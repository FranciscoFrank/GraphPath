# Можливі помилки та їх вирішення

Цей документ містить опис найпоширеніших помилок, з якими ви можете зіткнутися при роботі з GraphPath, та способи їх вирішення.

---

## Зміст

1. [Помилки введення даних](#помилки-введення-даних)
2. [Помилки компіляції](#помилки-компіляції)
3. [Помилки GUI](#помилки-gui)
4. [Помилки виконання](#помилки-виконання)
5. [Помилки алгоритмів](#помилки-алгоритмів)

---

## Помилки введення даних

### 1. Invalid vertex (Неправильна вершина)

**Опис помилки:**
```
Помилка: неправильні вершини (0 <= вершина < n)
Error: invalid vertex (must be 0 <= vertex < n)
```

**Причини:**
- Вершина має значення менше 0
- Вершина має значення більше або дорівнює n (кількість вершин)
- У вхідних даних вказано неіснуючу вершину

**Приклад неправильних даних:**
```
3 0        # 3 вершини (0, 1, 2)
0 3 1      # Помилка! Вершина 3 не існує
-1 2 1     # Помилка! Від'ємна вершина
```

**Рішення:**
- Переконайтеся, що всі вершини в діапазоні [0, n-1]
- Перевірте перший рядок вхідних даних (кількість вершин)
- Відлічуйте вершини з 0, а не з 1

**Правильні дані:**
```
3 0        # 3 вершини: 0, 1, 2
0 1 1      # Ребро від 0 до 1
1 2 1      # Ребро від 1 до 2
```

---

### 2. Path not found (Шлях не знайдено)

**Опис помилки:**
```
Шлях не знайдено
Path not found
```

**Причини:**
- Граф не зв'язний (вершини не з'єднані)
- Початкова та кінцева вершини в різних компонентах зв'язності
- Відсутні ребра між деякими вершинами

**Приклад:**
```
4 0              # 4 вершини
0 1 1            # Ребро 0 -> 1
2 3 1            # Ребро 2 -> 3
Початок: 0
Кінець: 3        # Помилка! 0 і 3 не з'єднані
```

**Візуалізація:**
```
0 --- 1    2 --- 3
  (компонента 1)  (компонента 2)
```

**Рішення:**
- Перевірте, чи всі вершини з'єднані шляхами
- Додайте необхідні ребра для зв'язності графа
- Використовуйте GUI для візуалізації графа

**Правильне виправлення:**
```
4 0
0 1 1
1 2 1            # Додане ребро для зв'язності
2 3 1
Початок: 0
Кінець: 3        # Тепер шлях існує: 0 -> 1 -> 2 -> 3
```

---

### 3. Invalid input format (Неправильний формат введення)

**Опис помилки:**
```
Помилка читання графа
Error reading graph
Invalid input format
```

**Причини:**
- Невірна кількість полів у рядку
- Нечислові значення замість чисел
- Відсутні обов'язкові поля

**Приклади неправильного формату:**

❌ **Помилка 1: Відсутня вага ребра**
```
3 0
0 1          # Помилка! Потрібна вага ребра
```

❌ **Помилка 2: Нечислові значення**
```
3 0
a b 1        # Помилка! Вершини мають бути числами
```

❌ **Помилка 3: Зайві поля**
```
3 0
0 1 1 5 10   # Помилка! Зайві значення
```

✅ **Правильний формат:**
```
3 0
0 1 1
1 2 1
```

**Рішення:**
- Перевірте формат файлу (див. [EXAMPLES.md](EXAMPLES.md))
- Кожне ребро: `<початок> <кінець> <вага>`
- Використовуйте тільки цілі числа

---

### 4. Negative edge weight (Від'ємна вага ребра)

**Опис помилки:**
```
Попередження: виявлено від'ємну вагу ребра
Warning: negative edge weight detected
```

**Причини:**
- Вказано від'ємне значення ваги ребра
- Алгоритм Дейкстри не працює з від'ємними вагами

**Приклад:**
```
3 0
0 1 -5       # Від'ємна вага
1 2 3
```

**Наслідки:**
- Алгоритм Дейкстри може дати неправильний результат
- Для від'ємних ваг потрібен алгоритм Беллмана-Форда (запланований)

**Рішення:**
- Використовуйте додатні ваги для Дейкстри
- Для від'ємних ваг дочекайтеся реалізації Bellman-Ford
- Можна використовувати BFS/DFS (вони ігнорують ваги)

---

## Помилки компіляції

### 5. Build error (Помилка збірки)

**Опис помилки:**
```
make: *** [build/graphpath] Error 1
gcc: error: graph.h: No such file or directory
```

**Причини:**
- Відсутні вихідні файли
- Неправильна робоча директорія
- Пошкоджені файли проєкту

**Рішення 1: Очистити та пересібрати**
```bash
make clean-all
make
```

**Рішення 2: Перевірити робочу директорію**
```bash
# Переконайтеся, що ви в кореневій директорії проєкту
pwd
# Має бути: /шлях/до/GraphPath

ls
# Має містити: Makefile, src/, include/, gui/
```

**Рішення 3: Перевірити наявність файлів**
```bash
ls include/
# Має бути: graph.h, bfs.h, dfs.h, dijkstra.h

ls src/
# Має бути: graph.c, bfs.c, dfs.c, dijkstra.c, main.c
```

---

### 6. Compiler not found (Компілятор не знайдено)

**Опис помилки:**
```
make: gcc: Command not found
bash: gcc: command not found
```

**Причина:**
- GCC не встановлений у системі

**Рішення:**

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install build-essential
```

**Fedora:**
```bash
sudo dnf install gcc gcc-c++ make
```

**Arch Linux:**
```bash
sudo pacman -S base-devel
```

**Перевірка:**
```bash
gcc --version
# Має вивести версію gcc
```

---

### 7. Linker errors (Помилки лінкера)

**Опис помилки:**
```
undefined reference to `create_graph'
undefined reference to `bfs'
```

**Причина:**
- Об'єктні файли не створені
- Неправильний порядок компіляції

**Рішення:**
```bash
# Повна пересборка
make clean
make
```

---

## Помилки GUI

### 8. GUI build error (Помилка збірки GUI)

**Опис помилки:**
```
make: qmake: Command not found
qmake: could not find a Qt installation
```

**Причина:**
- Qt не встановлено
- qmake не в PATH

**Рішення:**

**Ubuntu/Debian (Qt6):**
```bash
sudo apt-get update
sudo apt-get install qt6-base-dev qt6-tools-dev
```

**Ubuntu/Debian (Qt5):**
```bash
sudo apt-get install qtbase5-dev qttools5-dev qtdeclarative5-dev
```

**Fedora (Qt6):**
```bash
sudo dnf install qt6-qtbase-devel qt6-qttools-devel
```

**Arch Linux (Qt6):**
```bash
sudo pacman -S qt6-base qt6-tools
```

**Перевірка встановлення:**
```bash
qmake --version
# або
qmake6 --version

# Має вивести версію Qt
```

---

### 9. GUI runtime errors (Помилки виконання GUI)

**Опис помилки:**
```
error while loading shared libraries: libQt6Core.so.6
cannot open shared object file: No such file or directory
```

**Причина:**
- Відсутні бібліотеки Qt runtime
- Невідповідність версій Qt

**Рішення 1: Встановити runtime бібліотеки**
```bash
# Ubuntu/Debian
sudo apt-get install qt6-base-dev

# Fedora
sudo dnf install qt6-qtbase
```

**Рішення 2: Перевірити доступні бібліотеки**
```bash
ldd build/graphpath-gui
# Показує всі залежності та чи знайдені вони
```

**Рішення 3: Пересібрати з правильною версією**
```bash
make clean-gui
make gui
```

---

### 10. Qt MOC errors (Помилки Meta-Object Compiler)

**Опис помилки:**
```
Error: Undefined interface
moc: Cannot open file
```

**Причина:**
- Пошкоджені файли збірки Qt
- Застарілі moc файли

**Рішення:**
```bash
# Очистити всі згенеровані Qt файли
make clean-gui

# Видалити moc файли вручну (якщо потрібно)
rm -rf gui/release/moc_*.cpp
rm -rf gui/debug/moc_*.cpp

# Пересібрати
make gui
```

---

### 11. Graph file loading errors (Помилки завантаження файлу графа)

**Опис помилки в GUI:**
```
Failed to load graph from file
Invalid graph file format
```

**Причини:**
- Файл не існує
- Невірний формат файлу
- Недостатньо прав для читання

**Рішення:**
- Перевірте формат файлу (див. розділ "Invalid input format")
- Переконайтеся, що файл існує і доступний для читання
- Використовуйте абсолютний шлях до файлу

**Перевірка файлу:**
```bash
# Перевірити наявність
ls -la example_input.txt

# Перевірити вміст
cat example_input.txt

# Перевірити права доступу
chmod +r example_input.txt
```

---

## Помилки виконання

### 12. Memory allocation errors (Помилки виділення пам'яті)

**Опис помилки:**
```
Помилка виділення пам'яті
Memory allocation failed
Segmentation fault
```

**Причини:**
- Недостатньо оперативної пам'яті
- Занадто великий граф
- Витік пам'яті

**Рішення:**
- Зменшіть розмір графа
- Перевірте доступну пам'ять: `free -h`
- Закрийте інші програми

**Обмеження:**
- Практичний ліміт: ~10,000 вершин на типовому ПК
- Для більших графів потрібна оптимізація

---

### 13. Stack overflow (Переповнення стеку)

**Опис помилки:**
```
Segmentation fault (core dumped)
Stack overflow
```

**Причини:**
- Занадто глибока рекурсія в DFS
- Дуже великий граф з довгими шляхами

**Рішення:**
- Використовуйте BFS замість DFS для великих графів
- Збільште розмір стеку:
```bash
ulimit -s unlimited
./build/graphpath < large_graph.txt
```

---

## Помилки алгоритмів

### 14. Incorrect shortest path (Неправильний найкоротший шлях)

**Опис:**
Алгоритм знаходить шлях, але він не найкоротший

**Причини:**
- Використання BFS/DFS на зваженому графі
- Від'ємні ваги з алгоритмом Дейкстри
- Помилка у вхідних даних

**Рішення:**
- Для зважених графів використовуйте Дейкстру
- Для незважених графів підходить BFS
- Перевірте ваги ребер у вхідному файлі

**Автоматичний вибір алгоритму:**
GraphPath автоматично обирає оптимальний алгоритм:
- **Незважений граф** → BFS (найшвидший)
- **Зважений граф, всі ваги = 1** → BFS
- **Зважений граф, різні ваги** → Dijkstra

---

### 15. Algorithm timeout (Таймаут алгоритму)

**Опис:**
Програма "зависає" і не завершується

**Причини:**
- Занадто великий граф
- Неефективний алгоритм для даного типу графу
- Цикл у вхідних даних (для деяких алгоритмів)

**Рішення:**
- Зменшіть розмір графа
- Використовуйте більш ефективний алгоритм
- Перервіть виконання: `Ctrl+C`

**Складність алгоритмів:**
| Алгоритм | Часова складність | Найкраще для |
|----------|------------------|--------------|
| BFS      | O(V + E)        | Незважені графи |
| DFS      | O(V + E)        | Пошук у глибину |
| Dijkstra | O((V + E) log V) | Зважені графи |

Де V - кількість вершин, E - кількість ребер

---

## Діагностика проблем

### Загальний алгоритм усунення проблем:

1. **Прочитайте повідомлення про помилку уважно**
   - Зверніть увагу на номери рядків
   - Зрозумійте, що саме пішло не так

2. **Перевірте вхідні дані**
   ```bash
   cat your_input.txt
   # Порівняйте з прикладами в EXAMPLES.md
   ```

3. **Спробуйте на простому прикладі**
   ```bash
   ./build/graphpath < example_input.txt
   ```

4. **Очистіть та пересіберіть**
   ```bash
   make clean-all
   make
   make gui
   ```

5. **Перевірте залежності**
   ```bash
   gcc --version
   make --version
   qmake --version  # Для GUI
   ```

6. **Шукайте схожі помилки в цьому документі**

---

## Повідомлення про нові помилки

Якщо ви зіткнулися з помилкою, якої немає в цьому документі:

1. Перевірте [Issues на GitHub](https://github.com/your-repo/issues)
2. Створіть новий Issue з описом:
   - Точне повідомлення про помилку
   - Вхідні дані, що призвели до помилки
   - Кроки для відтворення
   - Ваша ОС та версії інструментів

---

## Корисні команди для діагностики

```bash
# Перевірка середовища
gcc --version
make --version
qmake --version

# Перевірка структури проєкту
ls -la
tree -L 2  # Якщо встановлено

# Перевірка вмісту файлів
cat Makefile
cat example_input.txt

# Повна пересборка
make clean-all
make test
make gui

# Запуск з виводом помилок
./build/graphpath < test_input.txt 2>&1 | tee error.log

# Перевірка залежностей GUI
ldd build/graphpath-gui

# Перевірка системних ресурсів
free -h
df -h
```

---

## Додаткова інформація

- **Приклади правильних вхідних даних:** [EXAMPLES.md](EXAMPLES.md)
- **Make команди:** [MAKECOMMANDS.md](MAKECOMMANDS.md)
- **Технічна документація:** [TECHNICAL.md](TECHNICAL.md)
- **GUI документація:** [GUI.md](GUI.md)
- **Швидкий старт:** [README.md](README.md)

---

Якщо жодне з рішень не допомогло, будь ласка, створіть Issue на GitHub з детальним описом проблеми.
